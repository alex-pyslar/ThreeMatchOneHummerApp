# Приложение "Три в ряд, один молоток"

## Обзор
**Три в ряд, один молоток** — это увлекательная головоломка в жанре "три в ряд" для Android, разработанная с использованием Jetpack Compose. Игрокам предстоит обменивать плитки местами, чтобы создавать комбинации из трёх или более одинаковых плиток, зарабатывая очки и открывая бонусы. Игра отличается ярким интерфейсом, механикой пассивного дохода, системой донатной валюты и магазином для внутриигровых покупок. Также в игре присутствует динамический фон с падающими объектами, который делает визуальный опыт более живым.

## Особенности
- **Геймплей "три в ряд"**: Меняйте местами соседние плитки, чтобы создать горизонтальные или вертикальные комбинации из трёх и более одинаковых плиток.
- **Система очков**: Зарабатывайте очки за комбинации, с множителем очков для увеличения наград.
- **Пассивный доход**: Получайте очки автоматически с течением времени, с возможностью улучшения скорости заработка.
- **Донатная валюта**: Собирайте валюту для покупок в игровом магазине.
- **Магазин**: Покупайте предметы для увеличения донатной валюты через удобный интерфейс магазина.
- **Динамический фон**: Падающие объекты с разными размерами, скоростями и углами вращения создают яркий визуальный эффект.
- **Адаптивный интерфейс**: Построен на Jetpack Compose для современного и гибкого дизайна.
- **Анимации и обратная связь**: Плавные анимации обмена плиток и чёткая обратная связь при неверных ходах.

## Требования
Для сборки и запуска проекта необходимо:
- **Android Studio**: Версия 2023.3.1 или новее.
- **Kotlin**: Версия 1.9.0 или выше.
- **Android SDK**: Минимальный API 34 (Android 14.0, кодовое название Vanilla Ice Cream).
- **Gradle**: Версия 8.0 или выше.
- **Jetpack Compose**: Подключается через зависимости в Android Studio.

## Установка
1. **Клонируйте репозиторий**:
   ```bash
   git clone https://github.com/alex-pyslar/ThreeMatchOneHummerApp.git
   ```
2. **Откройте в Android Studio**:
    - Запустите Android Studio и выберите `Open an existing project`.
    - Перейдите в папку клонированного репозитория и выберите её.
3. **Синхронизируйте проект**:
    - Нажмите `Sync Project with Gradle Files`, чтобы загрузить зависимости.
4. **Запустите приложение**:
    - Подключите устройство Android или эмулятор с API 34 или выше.
    - Нажмите `Run`, чтобы собрать и установить приложение.

## Структура проекта
- **`MainActivity.kt`**: Точка входа приложения, настраивает интерфейс Jetpack Compose.
- **`Match3Game.kt`**: Основная composable-функция, определяющая интерфейс и логику игры.
- **`TileView.kt`**: Composable для отображения отдельных плиток с распознаванием свайпов.
- **Игровая логика**:
    - `generateGrid()`: Создаёт сетку 6x6 без начальных комбинаций.
    - `swapTiles()`: Обрабатывает обмен плиток на основе действий пользователя.
    - `checkMatches()`: Определяет горизонтальные и вертикальные комбинации.
    - `removeMatches()`: Удаляет совпавшие плитки из сетки.
    - `dropTiles()`: Сдвигает плитки вниз и заполняет пустые места новыми.
- **`FallingObject.kt`**: Класс данных и логика для анимированных объектов фона.
- **Ресурсы**:
    - `drawable/`: Содержит изображения плиток (`note1`–`note5`), предметов магазина и фоновые изображения.
    - Иконки для отображения донатной валюты и очков.

## Как играть
1. **Начните игру**: Запустите приложение, чтобы увидеть сетку 6x6 из плиток.
2. **Меняйте плитки**: Перетаскивайте плитку по горизонтали или вертикали, чтобы поменять её местами с соседней.
3. **Создавайте комбинации**: Формируйте линии из трёх или более одинаковых плиток, чтобы набрать очки.
4. **Получайте бонусы**:
    - Потратьте 25 очков, чтобы увеличить множитель очков.
    - Потратьте 50 очков, чтобы увеличить пассивный доход.
5. **Посетите магазин**:
    - Откройте магазин, чтобы купить донатную валюту за игровую валюту.
    - На данный момент предметы в магазине бесплатны для тестирования.
6. **Наблюдайте за фоном**: Наслаждайтесь падающими объектами, которые добавляют динамики.

## Зависимости
Проект использует следующие ключевые зависимости (указаны в `build.gradle`):
- **Jetpack Compose**: Для создания интерфейса.
- **Kotlin Coroutines**: Для асинхронных задач, таких как анимации и пассивный доход.
- **AndroidX Libraries**: Для компонентов активности и материального дизайна.

## Известные проблемы
- **Генерация сетки**: В редких случаях генерация сетки может занять несколько попыток, чтобы избежать начальных комбинаций. Предупреждение выводится после 100 попыток.
- **Производительность**: На устройствах низкого уровня падающие объекты фона могут вызывать небольшие задержки, если их слишком много.
- **Цены в магазине**: Предметы в магазине сейчас бесплатны для тестирования; в будущем может быть добавлена полноценная система цен.

## Планы на будущее
- Добавить звуковые эффекты и фоновую музыку для более насыщенного опыта.
- Реализовать систему уровней с увеличивающейся сложностью.
- Ввести специальные плитки (например, бомбы, джокеры) для разнообразия геймплея.
- Добавить обучение для новых игроков.
- Оптимизировать систему падающих объектов для лучшей производительности на слабых устройствах.

## Как внести вклад
Мы приветствуем любые улучшения! Чтобы внести вклад:
1. Сделайте форк репозитория.
2. Создайте новую ветку (`git checkout -b feature/your-feature`).
3. Внесите изменения и закоммитьте их (`git commit -m "Добавлена новая функция"`).
4. Отправьте ветку в репозиторий (`git push origin feature/your-feature`).
5. Откройте pull request.

## Лицензия
Проект распространяется под лицензией Apache. Подробности см. в файле `LICENSE`.

## Контакты
По вопросам или для обратной связи:
- **Email**: alexpyslar03@gmail.com
- **GitHub**: github.com/alex-pyslar

---
*Создано с ❤️ на Jetpack Compose*